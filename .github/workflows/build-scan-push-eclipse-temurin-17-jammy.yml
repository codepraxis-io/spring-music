name: generic-workflow-eclipse-temurin-17-jammy

on:
  push:
    branches:
      - master
    # paths:
    #   - "src/**"

jobs:
  generic-workflow:
    runs-on: ubuntu-latest
    env:
      SRC: '.'
      DOCKER_IMAGE: 'spring-music'
      DOCKERHUB_ORG: 'griggheo'
    steps:
      - uses: codepraxis-io/github-actions/reusable-workflows/docker-build-scan-push
        token: ${{ secrets.GH_PAT }}
        with:
          image_name: 'griggheo/spring-music'
          image_tag_prefix: temurin
          context: '.'
          dockerfile_path: 'Dockerfile.eclipse-temurin-17-jre-jammy'
          extra_tags: 'eclipse-temurin-17-jre-jammy'
          build_args: ''
        secrets:
          registry_username: ${{ secrets.DOCKERHUB_USERNAME }}
          registry_password: ${{ secrets.DOCKERHUB_PASSWORD }}
          github_token: ${{ secrets.GH_PAT }}

